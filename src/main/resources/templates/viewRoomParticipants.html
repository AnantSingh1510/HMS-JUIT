<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Room Participants</title>
    <!-- Include Bootstrap CSS from WebJars-->
    <link rel="stylesheet" href="/webjars/bootstrap/5.1.3/css/bootstrap.min.css"/>
</head>
<body>
<div class="container mt-4">
    <h2>View Room Participants</h2>
    <form th:action="@{/manage/rooms/participants}" method="get">
    <div class="mb-3">
            <label for="hostel" class="form-label">Enter Hostel:</label>
            <input type="text" class="form-control" id="hostel" name="hostel" placeholder="Enter hostel (e.g., H1)">
        </div>
        <div class="mb-3">
            <label for="roomNumber" class="form-label">Enter Room Number:</label>
            <input type="text" class="form-control" id="roomNumber" name="roomNumber" placeholder="Enter room number">
        </div>
        <button type="submit" class="btn btn-primary">View Participants</button>
    </form>

    <!-- Display room participants if available -->
    <div th:if="${room != null}">
        <h3 class="mt-4">Room: <span th:text="${room.roomNumber}"></span> in Hostel: <span th:text="${room.hostelName}"></span></h3>
        <h4>Participants:</h4>
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>Name</th>
                <th>Roll Number</th>
                <th>Phone Number</th>
                <th>Parent's Phone Number</th>
                <th>CGPA</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="student : ${students}">
                <td th:text="${student.name}"></td>
                <td th:text="${student.rollNumber}"></td>
                <td th:text="${student.phoneNo}"></td>
                <td th:text="${student.parentNo}"></td>
                <td th:text="${student.cgpa}"></td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- Display error message if room not found -->
    <div th:if="${error != null}">
        <div class="alert alert-danger" th:text="${error}"></div>
    </div>
</div>
<script src="/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
</body>
</html>
